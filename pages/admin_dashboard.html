<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Queue Management System</title>
    <link rel="stylesheet" href="../css/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fqueuemana2356back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background min-h-screen">
    <!-- Header -->
    <header class="bg-surface shadow-base border-b border-secondary-200 sticky top-0 z-50">
        <div class="px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-4">
                    <button id="sidebarToggle" class="lg:hidden p-2 rounded-md hover:bg-secondary-100 transition-smooth">
                        <i class="fas fa-bars text-secondary-600"></i>
                    </button>
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                            <i class="fas fa-users-cog text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-semibold text-text-primary">Queue Management</h1>
                            <p class="text-sm text-secondary-500">Admin Dashboard</p>
                        </div>
                    </div>
                </div>

                <!-- Header Actions -->
                <div class="flex items-center space-x-4">
                    <!-- Notifications -->
                    <button class="relative p-2 rounded-lg hover:bg-secondary-100 transition-smooth">
                        <i class="fas fa-bell text-secondary-600"></i>
                        <span class="absolute -top-1 -right-1 w-5 h-5 bg-error text-white text-xs rounded-full flex items-center justify-center">3</span>
                    </button>

                    <!-- User Profile -->
                    <div class="flex items-center space-x-3">
                        <div class="text-right hidden sm:block">
                            <p class="text-sm font-medium text-text-primary">Sarah Johnson</p>
                            <p class="text-xs text-secondary-500">System Administrator</p>
                        </div>
                        <div class="w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-primary"></i>
                        </div>
                        <button class="p-2 rounded-lg hover:bg-secondary-100 transition-smooth">
                            <i class="fas fa-sign-out-alt text-secondary-600"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside id="sidebar" class="fixed inset-y-0 left-0 z-40 w-64 bg-surface shadow-lg transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out lg:static lg:inset-0 mt-20 lg:mt-0">
            <div class="flex flex-col h-full">
                <nav class="flex-1 px-4 py-6 space-y-2">
                    <!-- Dashboard -->
                    <a href="admin_dashboard.html" class="flex items-center px-4 py-3 text-primary bg-primary-50 rounded-lg font-medium">
                        <i class="fas fa-chart-line w-5 h-5 mr-3"></i>
                        Dashboard
                    </a>

                    <!-- User Management -->
                    <a href="user_management.html" class="flex items-center px-4 py-3 text-secondary-600 hover:text-primary hover:bg-primary-50 rounded-lg transition-smooth">
                        <i class="fas fa-users w-5 h-5 mr-3"></i>
                        User Management
                    </a>

                    <!-- Service & Desktop Management -->
                    <a href="service_desktop_management.html" class="flex items-center px-4 py-3 text-secondary-600 hover:text-primary hover:bg-primary-50 rounded-lg transition-smooth">
                        <i class="fas fa-cogs w-5 h-5 mr-3"></i>
                        Service & Desktop
                    </a>

                    <!-- Operator Dashboard -->
                    <a href="operator_dashboard.html" class="flex items-center px-4 py-3 text-secondary-600 hover:text-primary hover:bg-primary-50 rounded-lg transition-smooth">
                        <i class="fas fa-headset w-5 h-5 mr-3"></i>
                        Operator View
                    </a>

                    <!-- Customer Interface -->
                    <a href="customer_ticket_generation.html" class="flex items-center px-4 py-3 text-secondary-600 hover:text-primary hover:bg-primary-50 rounded-lg transition-smooth">
                        <i class="fas fa-ticket-alt w-5 h-5 mr-3"></i>
                        Customer Interface
                    </a>

                    <!-- Queue Display -->
                    <a href="queue_display_screen.html" class="flex items-center px-4 py-3 text-secondary-600 hover:text-primary hover:bg-primary-50 rounded-lg transition-smooth">
                        <i class="fas fa-tv w-5 h-5 mr-3"></i>
                        Queue Display
                    </a>
                </nav>

                <!-- Sidebar Footer -->
                <div class="p-4 border-t border-secondary-200">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-success rounded-full flex items-center justify-center">
                            <i class="fas fa-check text-white text-sm"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-text-primary">System Online</p>
                            <p class="text-xs text-secondary-500">Last updated: 2 min ago</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Sidebar Overlay -->
        <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden hidden"></div>

        <!-- Main Content -->
        <main class="flex-1 lg:ml-0 min-h-screen">
            <div class="p-6">
                <!-- Breadcrumb -->
                <nav class="flex items-center space-x-2 text-sm text-secondary-500 mb-6">
                    <i class="fas fa-home"></i>
                    <span>/</span>
                    <span class="text-text-primary font-medium">Admin Dashboard</span>
                </nav>

                <!-- Page Header -->
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8">
                    <div>
                        <h2 class="text-3xl font-semibold text-text-primary mb-2">Dashboard Overview</h2>
                        <p class="text-secondary-500">Monitor queue performance and system operations</p>
                    </div>
                    <div class="flex items-center space-x-3 mt-4 sm:mt-0">
                        <select class="form-input w-auto min-w-0">
                            <option>Today</option>
                            <option>This Week</option>
                            <option>This Month</option>
                        </select>
                        <button class="btn btn-primary">
                            <i class="fas fa-download mr-2"></i>
                            Export Report
                        </button>
                    </div>
                </div>

                <!-- KPI Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- Total Tickets Served -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-secondary-500 mb-1">Tickets Served Today</p>
                                <p class="text-3xl font-semibold text-text-primary">247</p>
                                <div class="flex items-center mt-2">
                                    <i class="fas fa-arrow-up text-success text-sm mr-1"></i>
                                    <span class="text-sm text-success">+12.5%</span>
                                    <span class="text-sm text-secondary-500 ml-1">vs yesterday</span>
                                </div>
                            </div>
                            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-ticket-alt text-primary text-xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Average Waiting Time -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-secondary-500 mb-1">Avg. Waiting Time</p>
                                <p class="text-3xl font-semibold text-text-primary">8.5<span class="text-lg text-secondary-500">min</span></p>
                                <div class="flex items-center mt-2">
                                    <i class="fas fa-arrow-down text-success text-sm mr-1"></i>
                                    <span class="text-sm text-success">-2.3min</span>
                                    <span class="text-sm text-secondary-500 ml-1">vs yesterday</span>
                                </div>
                            </div>
                            <div class="w-12 h-12 bg-warning-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-clock text-warning text-xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Average Serving Time -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-secondary-500 mb-1">Avg. Serving Time</p>
                                <p class="text-3xl font-semibold text-text-primary">4.2<span class="text-lg text-secondary-500">min</span></p>
                                <div class="flex items-center mt-2">
                                    <i class="fas fa-arrow-up text-error text-sm mr-1"></i>
                                    <span class="text-sm text-error">+0.8min</span>
                                    <span class="text-sm text-secondary-500 ml-1">vs yesterday</span>
                                </div>
                            </div>
                            <div class="w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-user-clock text-success text-xl"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Active Desktops -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-secondary-500 mb-1">Active Desktops</p>
                                <p class="text-3xl font-semibold text-text-primary">8<span class="text-lg text-secondary-500">/12</span></p>
                                <div class="flex items-center mt-2">
                                    <div class="w-2 h-2 bg-success rounded-full mr-2"></div>
                                    <span class="text-sm text-secondary-500">All systems operational</span>
                                </div>
                            </div>
                            <div class="w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-desktop text-accent text-xl"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts and Real-time Data -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <!-- Performance Chart -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-text-primary">Performance Trends</h3>
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1 text-sm bg-primary text-white rounded-md">Daily</button>
                                <button class="px-3 py-1 text-sm text-secondary-600 hover:bg-secondary-100 rounded-md">Weekly</button>
                                <button class="px-3 py-1 text-sm text-secondary-600 hover:bg-secondary-100 rounded-md">Monthly</button>
                            </div>
                        </div>
                        <div class="h-64">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Service Distribution -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-text-primary">Tickets by Service</h3>
                            <button class="text-primary hover:text-primary-700">
                                <i class="fas fa-external-link-alt"></i>
                            </button>
                        </div>
                        <div class="h-64">
                            <canvas id="serviceChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Real-time Queue Status -->
                <div class="card p-6 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-text-primary">Real-time Queue Status</h3>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-success rounded-full animate-pulse"></div>
                            <span class="text-sm text-secondary-500">Live updates</span>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- Desktop Status Cards -->
                        <div class="bg-success-100 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium text-success-600">Desktop 1</span>
                                <div class="status-indicator status-success">
                                    <i class="fas fa-circle text-xs mr-1"></i>
                                    Serving
                                </div>
                            </div>
                            <p class="text-lg font-semibold text-text-primary">A045</p>
                            <p class="text-sm text-secondary-500">General Service</p>
                            <div class="mt-2 text-xs text-secondary-500">
                                <i class="fas fa-clock mr-1"></i>
                                Started: 2:15 PM
                            </div>
                        </div>

                        <div class="bg-primary-50 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium text-primary-600">Desktop 2</span>
                                <div class="status-indicator status-success">
                                    <i class="fas fa-circle text-xs mr-1"></i>
                                    Serving
                                </div>
                            </div>
                            <p class="text-lg font-semibold text-text-primary">B023</p>
                            <p class="text-sm text-secondary-500">Account Opening</p>
                            <div class="mt-2 text-xs text-secondary-500">
                                <i class="fas fa-clock mr-1"></i>
                                Started: 2:18 PM
                            </div>
                        </div>

                        <div class="bg-secondary-100 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium text-secondary-600">Desktop 3</span>
                                <div class="status-indicator bg-secondary-200 text-secondary-600">
                                    <i class="fas fa-circle text-xs mr-1"></i>
                                    Available
                                </div>
                            </div>
                            <p class="text-lg font-semibold text-secondary-500">---</p>
                            <p class="text-sm text-secondary-500">Loan Services</p>
                            <div class="mt-2 text-xs text-secondary-500">
                                <i class="fas fa-clock mr-1"></i>
                                Ready for next
                            </div>
                        </div>

                        <div class="bg-warning-100 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium text-warning-600">Desktop 4</span>
                                <div class="status-indicator status-warning">
                                    <i class="fas fa-circle text-xs mr-1"></i>
                                    Break
                                </div>
                            </div>
                            <p class="text-lg font-semibold text-secondary-500">---</p>
                            <p class="text-sm text-secondary-500">Customer Support</p>
                            <div class="mt-2 text-xs text-secondary-500">
                                <i class="fas fa-clock mr-1"></i>
                                Back at: 2:45 PM
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="card p-6 hover:shadow-md transition-smooth cursor-pointer" onclick="window.location.href='user_management.html'">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-users text-primary text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-text-primary">User Management</h4>
                                <p class="text-sm text-secondary-500">Manage operators and roles</p>
                            </div>
                        </div>
                    </div>

                    <div class="card p-6 hover:shadow-md transition-smooth cursor-pointer" onclick="window.location.href='service_desktop_management.html'">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-cogs text-accent text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-text-primary">Service Configuration</h4>
                                <p class="text-sm text-secondary-500">Configure services and desktops</p>
                            </div>
                        </div>
                    </div>

                    <div class="card p-6 hover:shadow-md transition-smooth cursor-pointer" onclick="window.location.href='queue_display_screen.html'">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-tv text-success text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-text-primary">Queue Display</h4>
                                <p class="text-sm text-secondary-500">View live queue status</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Sidebar Toggle
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
            sidebarOverlay.classList.toggle('hidden');
        });

        sidebarOverlay.addEventListener('click', () => {
            sidebar.classList.add('-translate-x-full');
            sidebarOverlay.classList.add('hidden');
        });

        // Performance Chart
        const performanceCtx = document.getElementById('performanceChart').getContext('2d');
        new Chart(performanceCtx, {
            type: 'line',
            data: {
                labels: ['9 AM', '10 AM', '11 AM', '12 PM', '1 PM', '2 PM', '3 PM', '4 PM'],
                datasets: [{
                    label: 'Tickets Served',
                    data: [12, 19, 15, 25, 32, 28, 35, 42],
                    borderColor: '#2563EB',
                    backgroundColor: 'rgba(37, 99, 235, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Avg Wait Time (min)',
                    data: [15, 12, 18, 8, 6, 9, 7, 5],
                    borderColor: '#F59E0B',
                    backgroundColor: 'rgba(245, 158, 11, 0.1)',
                    tension: 0.4,
                    fill: true,
                    yAxisID: 'y1'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        grid: {
                            drawOnChartArea: false,
                        },
                    }
                }
            }
        });

        // Service Distribution Chart
        const serviceCtx = document.getElementById('serviceChart').getContext('2d');
        new Chart(serviceCtx, {
            type: 'doughnut',
            data: {
                labels: ['General Service', 'Account Opening', 'Loan Services', 'Customer Support', 'Cash Deposit'],
                datasets: [{
                    data: [85, 45, 32, 28, 15],
                    backgroundColor: [
                        '#2563EB',
                        '#10B981',
                        '#F59E0B',
                        '#EF4444',
                        '#8B5CF6'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    }
                }
            }
        });

        // Real-time updates simulation
        setInterval(() => {
            // Simulate real-time updates
            const timestamp = new Date().toLocaleTimeString();
            console.log('Queue status updated at:', timestamp);
        }, 30000);
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>